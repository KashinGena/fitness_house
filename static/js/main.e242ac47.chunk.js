(this.webpackJsonpfitness_house=this.webpackJsonpfitness_house||[]).push([[0],{17:function(e,t,n){e.exports={header:"Header_header__1Fc4e",container:"Header_container__1lzH6",header__inner:"Header_header__inner__3Yjwj",logo__link:"Header_logo__link__v7-WG",logo:"Header_logo__2IGPo",logo__title:"Header_logo__title__3TkJN"}},20:function(e,t,n){e.exports={filter:"Filter_filter__25ncZ",filter__inner:"Filter_filter__inner__2h-to",container:"Filter_container__3Q2gX","filter-select__select":"Filter_filter-select__select__1jv_y","filter-select__option":"Filter_filter-select__option__3KW4U"}},23:function(e,t,n){e.exports={"cart-button":"CartButton_cart-button__22RDh","cart-button__amount-purchase":"CartButton_cart-button__amount-purchase__3owAi","cart-button__text":"CartButton_cart-button__text__1J4Q7"}},24:function(e,t,n){e.exports={"fitness-list":"FitnessList_fitness-list__QJPku",container:"FitnessList_container__38nU6","fitness-list__inner":"FitnessList_fitness-list__inner__2KgDw"}},37:function(e,t,n){e.exports=n(55)},42:function(e,t,n){},43:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(22),s=n.n(r),c=(n(42),n(11)),o=n(12),l=n(14),_=n(13),m=(n(43),n(17)),u=n.n(m),p=n(23),f=n.n(p),v=function(e){return i.a.createElement("button",{className:f.a["cart-button"],onClick:e.onClick},i.a.createElement("span",{className:f.a["cart-button__amount-purchase"]},e.counter),i.a.createElement("i",{className:"fa fa-shopping-cart","aria-hidden":"true"}),i.a.createElement("span",{className:f.a["cart-button__text"]},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"))},d=n(10),h=n(2),E=Object(h.f)((function(e){return i.a.createElement("header",{className:u.a.header},i.a.createElement("div",{className:u.a.container},i.a.createElement("div",{className:u.a.header__inner},i.a.createElement("div",{className:u.a.logo},i.a.createElement(d.b,{to:"/",className:u.a.logo__link},i.a.createElement("h2",{className:u.a.logo__title},"Fitness House Market"))),i.a.createElement(v,{onClick:e.onClick,counter:e.counter}))))})),g=n(18),b=n(19);function O(){return function(e,t){fetch("/data/service.json",{headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:"FETCH_SERVICES_ITEMS_SUCCESS",items:t.services}),e((function(e,t){var n={};Object(b.a)(t().items.items).map((function(e,t){return e.properties.forEach((function(e){Object.keys(n).includes(e.title)?n[e.title].includes(e.value)||n[e.title].push(e.value):(n[e.title]=[],n[e.title].push(e.value))})),n})),e({type:"FETCH_PROPERTIES_SUCCESS",properties:n})}))}))}}var j=n(20),S=n.n(j),C=function(e){Object(l.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={value:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u043d\u044f\u0442\u0438\u0439","\u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","\u0412\u0440\u0435\u043c\u044f \u043f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u044f","\u0422\u0438\u043f \u0441\u0435\u043a\u0446\u0438\u0438","\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0442\u0440\u0435\u043d\u0435\u0440\u0430"]},e}return Object(o.a)(n,[{key:"componentWillUnmount",value:function(){localStorage.setItem("value",JSON.stringify(this.state.value))}},{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("value"));e&&this.setState({value:e}),localStorage.removeItem("value")}},{key:"onChange",value:function(e){var t={},n=e.target.name,a=e.target.value;t[n]=a;var i=Object(b.a)(this.state.value);i[e.target.id]=e.target.value,this.setState({value:i},(function(){console.log(this.state.value)})),this.props.onChange(t)}},{key:"renderSelects",value:function(){var e=this;return Object.entries(this.props.properties).map((function(t,n){return i.a.createElement("select",{className:S.a["filter-select__select"],name:t[0],value:e.state.value[n],key:t[0],onChange:function(t){return e.onChange(t)},id:n},[t[0]].concat(Object(b.a)(t[1])).map((function(e,t){return i.a.createElement("option",{id:t,value:e,key:t,className:S.a["filter-select__option"]},e)})))}))}},{key:"render",value:function(){return i.a.createElement("section",{className:S.a.filter},i.a.createElement("div",{className:S.a.container},i.a.createElement("div",{className:S.a.filter__inner},this.renderSelects())))}}]),n}(a.Component),N=n(9),y=n.n(N);var I=function(e){return i.a.createElement("article",{className:y.a["fitness-item"]},i.a.createElement(d.b,{to:"/".concat(e.alias),className:y.a["fitness-item__link"]},i.a.createElement("div",{className:y.a["fitness-item__inner"]},i.a.createElement("img",{className:y.a["fitness-item__img"],src:e.image,alt:"fitness"}),i.a.createElement("div",{className:y.a["fitness-item__description"]},i.a.createElement("h4",{className:y.a["fitness-item__title"]},e.title," "),i.a.createElement("div",{className:y.a["fitness-item__text"]},(t=e.description).length<100?t:t.substring(0,100)+"..."),i.a.createElement("div",{className:y.a["fitness-item__hashcontainer"]},e.properties.map((function(e){return i.a.createElement("span",{className:y.a["fitness-item__hashtag"]},"#".concat(e.value))})))))));var t},k=n(24),T=n.n(k),F=function(e){return i.a.createElement("section",{className:T.a["fitness-list"]},i.a.createElement("div",{className:T.a.container},i.a.createElement("div",{className:T.a["fitness-list__inner"]},e.items.map((function(e){return i.a.createElement(I,{alias:e.alias,description:e.description,price:e.price,title:e.title,image:e.image,properties:e.properties})})))))},w=function(e){Object(l.a)(n,e);var t=Object(_.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(C,{properties:this.props.properties,onChange:this.props.onChange}),i.a.createElement(F,{items:this.props.items}))}}]),n}(i.a.Component),P=n(7),D=n.n(P),R=function(e){Object(l.a)(n,e);var t=Object(_.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.loadItem(this.props.match.params.alias)}},{key:"render",value:function(){var e;return e=this.props.item.properties?this.props.item.properties.map((function(e){return i.a.createElement("p",null,"".concat(e.title," - "),i.a.createElement("strong",null,e.value))})):null,i.a.createElement("section",{className:D.a.service},i.a.createElement("div",{className:D.a.container},i.a.createElement("div",{className:D.a.service__inner},i.a.createElement("div",{className:D.a["service__img-container"]},i.a.createElement("img",{className:D.a.service__img,alt:"service_img",src:this.props.item.image})),i.a.createElement("div",{className:D.a["service__description-container"]},i.a.createElement("h2",{className:D.a.service__title},this.props.item.title),i.a.createElement("div",{className:D.a.service__description},this.props.item.description),i.a.createElement("div",{className:D.a.service__properties},e),i.a.createElement("div",{className:D.a.service__summary},i.a.createElement("span",{className:D.a.service__price},this.props.item.price+" \u0440\u0443\u0431"),i.a.createElement("button",{className:D.a.service__btn,onClick:this.props.addToCard},"\u041a\u0443\u043f\u0438\u0442\u044c"))))))}}]),n}(i.a.Component);var U=Object(h.f)(Object(g.b)((function(e){return{item:e.items.item}}),(function(e){return{loadItem:function(t){return e(function(e){return function(t,n){fetch("./data/service.json",{headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(n){t({type:"LOAD_ITEM_SUCCESS",item:n.services.find((function(t){return t.alias===e}))})}))}}(t))},addToCard:function(){return e({type:"ADD_TO_CARD"})}}}))(R)),A=function(e){Object(l.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).renderServices=function(){var t={};return e.props.items.map((function(e,n){return e.properties.forEach((function(e){Object.keys(t).includes(e.title)?t[e.title].includes(e.value)||t[e.title].push(e.value):(t[e.title]=[],t[e.title].push(e.value))})),t}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.loadItems(),console.log(this.props)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement(E,{counter:this.props.counter,onClick:this.props.onClick}),i.a.createElement(h.c,null,i.a.createElement(h.a,{exact:!0,path:"/:alias",component:U}),i.a.createElement(h.a,{path:"/",render:function(){return i.a.createElement(w,{properties:e.props.properties,onChange:e.props.selectChangeHandler,items:e.props.items})}})))}}]),n}(i.a.Component);var H=Object(h.f)(Object(g.b)((function(e){return{items:e.items.filteredItems,properties:e.items.properties,counter:e.items.counter}}),(function(e){return{loadItems:function(){return e(O())},selectChangeHandler:function(t){return e((n=t,function(e,t){var a=Object(b.a)(t().items.items),i=t().items.filterObj;Object.keys(i).map((function(e){return"undefined"!==typeof n[e]?i[e]=n[e]===e?null:n[e]:i[e]})),console.log("filterObj",i),e({type:"UPDATE_FILTER_OBJECT",filterObj:i});var r=Object.keys(i).filter((function(e){return null!==i[e]}));console.log(r),e({type:"FILTER_ITEMS",filteredItems:a.filter((function(e){return r.every((function(t){return e.properties.some((function(e){return e.value===i[t]}))}))}))})}));var n}}}))(A));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=n(15),L=n(4),M={items:[],properties:[],filteredItems:[],item:{},filterObj:{"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u043d\u044f\u0442\u0438\u0439":null,"\u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f":null,"\u0412\u0440\u0435\u043c\u044f \u043f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u044f":null,"\u0422\u0438\u043f \u0441\u0435\u043a\u0446\u0438\u0438":null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0442\u0440\u0435\u043d\u0435\u0440\u0430":null},counter:0,url:""};var J=Object(x.c)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SERVICES_ITEMS_SUCCESS":return Object(L.a)(Object(L.a)({},e),{},{items:t.items,filteredItems:t.items});case"FETCH_PROPERTIES_SUCCESS":return Object(L.a)(Object(L.a)({},e),{},{properties:t.properties});case"UPDATE_FILTER_OBJECT":return Object(L.a)(Object(L.a)({},e),{},{filterObj:t.filterObj});case"FILTER_ITEMS":return Object(L.a)(Object(L.a)({},e),{},{filteredItems:t.filteredItems});case"CHANGE_URL":return Object(L.a)(Object(L.a)({},e),{},{url:"/"+t.payload});case"LOAD_ITEM_SUCCESS":return Object(L.a)(Object(L.a)({},e),{},{item:t.item});case"ADD_TO_CARD":return Object(L.a)(Object(L.a)({},e),{},{counter:e.counter+1});default:return e}}}),B=n(36),X="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):x.d,Y=Object(x.e)(J,X(Object(x.a)(B.a))),Q=i.a.createElement(g.a,{store:Y},i.a.createElement(d.a,{basename:"/fitness_house"},i.a.createElement(H,null)));s.a.render(Q,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){e.exports={service__inner:"ServicePage_service__inner__14IYJ",container:"ServicePage_container__3JdNS","service__img-container":"ServicePage_service__img-container__5zk_7",service__img:"ServicePage_service__img__1pnEd","service__description-container":"ServicePage_service__description-container__1Go2Q",service__description:"ServicePage_service__description__1H0oQ",service__properties:"ServicePage_service__properties__1YMUv",service__btn:"ServicePage_service__btn__gE64_",service__summary:"ServicePage_service__summary__1gXaU",service__price:"ServicePage_service__price__156Ud"}},9:function(e,t,n){e.exports={"fitness-item":"FitnessItem_fitness-item__2hh1K","fitness-item__img":"FitnessItem_fitness-item__img__LsS50","fitness-item__link":"FitnessItem_fitness-item__link__2YRaA","fitness-item__inner":"FitnessItem_fitness-item__inner__fgpRy","fitness-item__description":"FitnessItem_fitness-item__description__1Ctv0","fitness-item__text":"FitnessItem_fitness-item__text__2FjyF","fitness-item__hashtag":"FitnessItem_fitness-item__hashtag__qoTd0","fitness-item__title":"FitnessItem_fitness-item__title__3wYYO","fitness-item__hashcontainer":"FitnessItem_fitness-item__hashcontainer__3y1Ly"}}},[[37,1,2]]]);
//# sourceMappingURL=main.e242ac47.chunk.js.map